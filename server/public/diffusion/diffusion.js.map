{"version":3,"file":"/diffusion/diffusion.js","mappings":";;;AAAA;;AAGA;;AAGA;AACyB;;AAGzB;;AAEA,SAASA,eAAeA,CAAA,EAAI;EACxBC,oBAAoB,CAAC,CAAC;AAC1B;AAEA,SAASA,oBAAoBA,CAAA,EAAI;EAC7B,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;EACtDF,SAAS,CAACG,gBAAgB,CAAC,OAAO,EAAEC,iBAAiB,CAAC;AAC1D;AAEA,eAAeA,iBAAiBA,CAAA,EAAI;EAChC,MAAMC,cAAc,GAAGJ,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC;EACxDG,cAAc,CAACC,QAAQ,GAAG,IAAI;EAC9B,MAAMC,MAAM,GAAGF,cAAc,CAACG,KAAK;EAEnC,IAAID,MAAM,EAAE;IAER,IAAIE,MAAM;IAEV,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oBAAoB,EAAE;QAC/CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjB,QAAQ,EAAET;QACd,CAAC;MACL,CAAC,CAAC;MACFE,MAAM,GAAG,MAAMC,QAAQ,CAACO,IAAI,CAAC,CAAC;MAC9BC,OAAO,CAACC,GAAG,CAACV,MAAM,CAAC;IACvB,CAAC,CAAC,OAAOW,GAAG,EAAE;MACVF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC;MAChB;IACJ;;IAEA;IACA,IAAIX,MAAM,CAACA,MAAM,CAACY,MAAM,CAAC,CAAC,CAAC,EAAE;MACzB,MAAMC,SAAS,GAAGrB,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;MACtDoB,SAAS,CAACC,GAAG,GAAI,0BAAyBd,MAAM,CAACA,MAAM,CAACY,MAAM,CAAC,CAAC,CAAE,EAAC;IACvE;EACJ;EACAhB,cAAc,CAACC,QAAQ,GAAG,KAAK;AACnC;;AAEA;;AAEAR,eAAe,CAAC,CAAC,C","sources":["webpack://home-server-router/./src/diffusion/diffusion.js"],"sourcesContent":["// Javascript for diffusion page\r\n\r\n\r\n// ====== IMPORTS ======\r\n\r\n\r\n// Css\r\nimport './diffusion.css';\r\n\r\n\r\n// ====== FUNCTIONS ======\r\n\r\nfunction attachListeners () {\r\n    addSubmitBtnListener();\r\n}\r\n\r\nfunction addSubmitBtnListener () {\r\n    const submitBtn = document.querySelector('#submitBtn');\r\n    submitBtn.addEventListener('click', handleSubmitClick);\r\n}\r\n\r\nasync function handleSubmitClick () {\r\n    const promptTextArea = document.querySelector('#prompt');\r\n    promptTextArea.disabled = true;\r\n    const prompt = promptTextArea.value;\r\n\r\n    if (prompt) {\r\n\r\n        let result;\r\n        \r\n        try {\r\n            const response = await fetch('/diffusion/txt2Img', {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"prompt\": prompt\r\n                })\r\n            });\r\n            result = await response.json();\r\n            console.log(result);\r\n        } catch (err) {\r\n            console.log(err);\r\n            return;\r\n        }\r\n        \r\n        // Set result image if exists\r\n        if (result.result.images[0]) {\r\n            const resultImg = document.querySelector('.resultImg');\r\n            resultImg.src = `data:image/png;base64, ${result.result.images[0]}`;\r\n        }\r\n    }\r\n    promptTextArea.disabled = false;\r\n}\r\n    \r\n// ====== MAIN ======\r\n\r\nattachListeners();"],"names":["attachListeners","addSubmitBtnListener","submitBtn","document","querySelector","addEventListener","handleSubmitClick","promptTextArea","disabled","prompt","value","result","response","fetch","method","headers","body","JSON","stringify","json","console","log","err","images","resultImg","src"],"sourceRoot":""}